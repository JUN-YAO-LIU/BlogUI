<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <!--chart.js-->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <title>優先事項</title>

    <style>
        body {
            background-color: rgb(227, 234, 243);
            /* background-color: #ddd; */
        }

        .sidediv {
            background-color: white;
            padding: 20px;
            margin: 10px;
            margin-bottom: 20px;
        }

        .mynavbar {
            /* overflow: hidden; */
            position: sticky;
            /* position: -webkit-sticky; */
            top: 0;
            z-index: 99;
        }

        .footer {
            padding: 20px;
            text-align: center;
            clear: both;
            --tw-bg-opacity: 1;
            background-color: rgba(17, 24, 39, var(--tw-bg-opacity));
        }
    </style>
</head>

<body>

    <nav class="navbar navbar-expand-md navbar-dark bg-dark mynavbar">
        <div class="container-fluid">
            <a class="navbar-brand" href="/index.html">Jim駿Blog</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown"
                aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" aria-current="page" href="/index.html">Home首頁</a>
                    </li>
                    <!-- <li class="nav-item">
                <a class="nav-link" href="/category.html">程式筆記</a>
              </li> -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            程式筆記
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="/category.html">程式筆記</a></li>
                            <li><a class="dropdown-item" href="#">微專案</a></li>
                        </ul>
                    </li>
                    <!-- <li class="nav-item">
                <a class="nav-link" href="/miniprojects.html">ideaBox點子酷</a>
              </li> -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            行銷筆記
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="#">數位行銷</a></li>
                            <li><a class="dropdown-item" href="#">SEO</a></li>
                            <li><a class="dropdown-item" href="#">行銷文案</a></li>
                            <li><a class="dropdown-item" href="#">推薦書籍</a></li>
                            <li><a class="dropdown-item" href="#">IG文章</a></li>
                        </ul>
                    </li>
                    <!-- <li class="nav-item">
                <a class="nav-link" href="/miniprojects.html">IG文章</a>
              </li> -->
                    <li class="nav-item">
                        <a class="nav-link" href="/aBoutJim.html">關於我</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container" style="margin-top:30px">
        <div class="row">
            <!-- 發文內容 -->
            <div class="col-md-8">
                <div class="sidediv">
                    <h2>四象限分析法</h2>
                    <div class="my-3">
                        <div>
                            <div id="divPriorityItem" class="col-12">
                                <input id="PriorityItems" name="PriorityItems[]" type="text" class="form-control my-2"
                                    placeholder="工作事項" aria-label="工作事項" aria-describedby="basic-addon2">
                            </div>
                        </div>
                        <div class="col-12 my-3">
                            <button id="btninput" type="button" onclick="addinput()"
                                class="btn btn-primary">增加欄位</button>
                            <button type="button" onclick="getinput()" class="btn btn-primary">確認</button>
                        </div>
                    </div>
                    <!-- 產出按按鈕 -->
                    <div id="itemslist">

                    </div>

                    <div id="itemslisty">

                    </div>

                    <!-- 部落格內容 -->
                    <div class="card my-5">
                        <div class="card-body">
                            <div>
                                <canvas id="myChart"></canvas>
                            </div>
                            <div>
                                <ol id="resultlist" class="my-4 list-group list-group-numbered">
                                    <!-- <li class="list-group-item" style="background-color: aquamarine;">打程式</li> -->
                                </ol>
                            </div>
                        </div>
                    </div>

                </div>

            </div>

            <div class="col-md-4">
                <div class="sidediv">
                    <h2>About Jim</h2>
                    <img class="img-thumbnail my-3" src="/img/Jim.jpg" alt="">
                    <p>我是熱愛成長的成長駭客 Jim。創意發想是我的天賦，行動力是我的魅力。</p>
                    <h5>專長</h5>
                    <ul>
                        <li>WebForm API 介接</li>
                        <li>asp.net Core</li>
                    </ul>
                </div>
                <div class="sidediv">
                    <h3>Jim的關注</h3>
                    <p>看看Jim，都愛看甚麼連結。</p>
                    <ul class="nav nav-pills flex-column">
                        <li class="nav-item">
                            <a class="nav-link active" href="#">運動筆記</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">暗黑執行緒</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">匹克幫</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        <p>Footer</p>
        <p>Footer</p>
    </div>
    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
        crossorigin="anonymous"></script>


    <script>
        var btninput = document.getElementById('btninput');
        var arrx = {}, arry = {}, arrinput = {}, arrinputy = {};
        var totalcount = 0, clickXcount = 0, clickYcount = 0;
        var Xaxis = 0;
        var Yaxis = 0;
        //var testarr = [{ x: -2, y: 2 }, { x: 0, y: -2 }, { x: 2, y: 1 }, { x: 1, y: 1 }];
        var testarr = [], datasetarr = [], inputName = [], NameValue = [];
        var colorar = ["rgba(255, 99, 132, 0.2)", "rgba(54, 162, 235, 0.2)", "rgba(255, 206, 86, 0.2)", "rgba(75, 192, 192, 0.2)", "rgba(153, 102, 255, 0.2)", "rgba(255, 159, 64, 0.2)"]

        function addinput() {
            let PriorityItems = document.getElementById('divPriorityItem');
            var nodeFather = PriorityItems.parentNode;
            var node_clone = PriorityItems.cloneNode();
            content = PriorityItems.innerHTML;
            node_clone.removeAttribute('id');
            node_clone.innerHTML = content;
            nodeFather.appendChild(node_clone);
        }

        function getinput() {
            // 方法 2：getElementsByTagName
            const inputElement = document.getElementsByTagName('input');
            const name = inputElement[0].value;
            //const email = inputElement[1].value;
            for (let i = 0; i < inputElement.length; i++) {
                totalcount++;
                console.log(inputElement[i].value);
                //記到array裡面
                let itemslist = document.getElementById('itemslist');
                arrinput[i] = "<div onclick=\"displaynone(this.id) \"; id=\"none" + i + "\"" + ">" + inputElement[i].value + "</div>";
                arrinputy[i] = "<div onclick=\"displaynone(this.id) \"; id=\"none" + "y" + i + "\"" + ">" + inputElement[i].value + "</div>";
                inputName[i] = inputElement[i].value;
                //itemslist.innerHTML = "<li>" + inputElement[i].value + "</li>";
                itemslist.innerHTML += arrinput[i];
            }
        }

        function displaynone(clicked_id) {
            //alert("Xcount:" + clickXcount + "totalcount:" + totalcount + "Ycount:" + clickYcount);
            if (clickXcount != totalcount) {
                if (totalcount % 2 == 0 && (totalcount / 2 - clickXcount) > 0) {
                    arrx[clicked_id] = Math.round(totalcount / 2) - clickXcount;
                }
                else {
                    arrx[clicked_id] = Math.round(totalcount / 2) - clickXcount - 1;
                }
                //alert(arrx[clicked_id]);
                clickXcount++;
                //alert("Xcount:" + clickXcount);
                //alert("total:" + totalcount);
                if (clickXcount == totalcount) {
                    //alert("in");
                    showarry();
                }

            } else {
                if (totalcount % 2 == 0 && (totalcount / 2 - clickYcount) > 0) {
                    arry[clicked_id] = Math.round(totalcount / 2) - clickYcount;
                }
                else {
                    arry[clicked_id] = Math.round(totalcount / 2) - clickYcount - 1;
                }
                // alert(arry[clicked_id]);
                clickYcount++;
                if (clickYcount == totalcount) {
                    countdata();
                }
            }

            let divid = document.getElementById(clicked_id);
            divid.hidden = true;
        }

        function showarry() {
            console.log(arrinput);
            let itemslist = document.getElementById('itemslisty');
            for (let i = 0; i < totalcount; i++) {
                itemslist.innerHTML += arrinputy[i];
            }
        }

        function countdata() {
            for (let i = 0; i < totalcount; i++) {
                //testarr[i] = { x: arrx["none" + i], y: arry["noney" + i] };
                let pointRadius = new Date();
                pointRadius = pointRadius.getSeconds() % 5 + 5;
                //alert(pointRadius);
                NameValue[inputName[i]] = arrx["none" + i] + arry["noney" + i];
                alert(NameValue[inputName[i]])
                datasetarr[i] = { label: inputName[i], data: [{ x: arrx["none" + i], y: arry["noney" + i] }], backgroundColor: colorar[i], pointRadius: pointRadius * (i + 1) }
            }
            console.log(NameValue);
            console.log(arrx);
            console.log(arry);

            const data = {
                labels: ['寫程式', '開會', '寫文案'],
                datasets: [{
                    label: "test",
                    data: testarr,
                    backgroundColor: [
                        "rgba(75, 192, 192, 0.5)",
                        "rgba(153, 102, 255, 0.5)",
                        "rgba(255, 159, 64, 0.5)"
                    ],
                }],
            };

            const data2 = {
                labels: 'test',
                datasets: datasetarr,
            };

            const config = {
                type: 'scatter',
                data: data2,
                options: {
                    scales: {
                        x: {
                            type: 'linear',
                            position: 'bottom',
                            display: true,
                            title: {
                                display: true,
                                text: '緊急'
                            }
                        },
                        y: {
                            type: 'linear',
                            position: 'bottom',
                            display: true,
                            title: {
                                display: true,
                                text: '重要'
                            }
                        }
                    }
                }
            };
            var myChart = new Chart(
                document.getElementById('myChart'),
                config
            );

            //條列優先順序
            let temp = 0;
            for (let i = totalcount - 1; i > 0; i--) {
                alert("i:" + i)
                for (let b = 0; b <= i - 1; b++) {
                    if (NameValue[inputName[b]] > NameValue[inputName[b + 1]]) {
                        temp = NameValue[inputName[b]];
                        NameValue[inputName[b]] = NameValue[inputName[b + 1]];
                        NameValue[inputName[b + 1]] = temp;
                    }
                }
            }
            let resultlist = document.getElementById('resultlist');
            let showcount = 0;
            while (showcount < totalcount) {
                //alert("inputName:" + inputName[showcount])
                resultlist.innerHTML += "<li class=\"my-1 list-group-item\"" + "style=\" background-color:" + colorar[showcount] + "\"" + ">" + inputName[showcount] + "</li>";
                showcount++;
            }
        }
    </script>

    <!--圖片設定config-->
    <script>
        // <block:setup:1>
        // const data = {
        //     datasets: [{
        //         label: 'Scatter Dataset',
        //         data: testarr,
        //         backgroundColor: 'rgb(255, 99, 132)'
        //     }],
        // };

        // const config = {
        //     type: 'scatter',
        //     data: data,
        //     options: {
        //         scales: {
        //             x: {
        //                 type: 'linear',
        //                 position: 'center'
        //             },
        //             y: {
        //                 type: 'linear',
        //                 position: 'center'
        //             }
        //         }
        //     }
        // };
        // var myChart = new Chart(
        //     document.getElementById('myChart'),
        //     config
        // );
    </script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js" integrity="sha384-SR1sx49pcuLnqZUnnPwx6FCym0wLsk5JZuNx2bPPENzswTNFaQU1RDvt3wT4gWFG" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.min.js" integrity="sha384-j0CNLUeiqtyaRmlzUHCPZ+Gy5fQu0dQ6eZ/xAww941Ai1SxSY+0EQqNXNE6DZiVc" crossorigin="anonymous"></script>
    -->
</body>

</html>